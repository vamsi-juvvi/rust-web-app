<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="574px" preserveAspectRatio="none" style="width:879px;height:574px;background:#FFFFFF;" version="1.1" viewBox="0 0 879 574" width="879px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="20.9531" style="stroke:none;stroke-width:1.0;" width="846.4463" x="15" y="12.7451"/><ellipse cx="313.1733" cy="48.6982" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><path d="M20,68.6982 L20,154.3623 A0,0 0 0 0 20,154.3623 L170.105,154.3623 A0,0 0 0 0 170.105,154.3623 L170.105,115.5303 L190.105,111.5303 L170.105,107.5303 L170.105,78.6982 L160.105,68.6982 L20,68.6982 A0,0 0 0 0 20,68.6982 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M160.105,68.6982 L160.105,78.6982 L170.105,78.6982 L160.105,68.6982 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="113.2358" x="26" y="85.7651">service/method</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.4624" x="26" y="100.8979">future split at LB</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.4277" x="26" y="116.0308">instead of payload</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.9727" x="26" y="131.1636">marshall/unmarsall</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.5889" x="26" y="146.2964">in gateway</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="246.1367" x="190.105" y="94.5459"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="57.2168" x="203.9194" y="115.6846">/api/rpc/{</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="101.6719" x="261.1362" y="115.6846">worker_service</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="4.043" x="362.8081" y="115.6846">/</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51.7559" x="366.8511" y="115.6846">method</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="7.6348" x="418.6069" y="115.6846">}</text><ellipse cx="313.1733" cy="551.0811" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="313.1733" cy="551.0811" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="15" x2="15" y1="12.7451" y2="562.0811"/><rect fill="#FFD700" height="549.3359" style="stroke:#FFD700;stroke-width:1.0;" width="227.4785" x="440.2417" y="12.7451"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72.2012" x="518.8804" y="174.3623"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44.0039" x="528.8804" y="195.501">split on</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="4.3828" x="576.6987" y="195.501">/</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="165.6758" x="472.1431" y="228.3311"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="40.1895" x="482.1431" y="249.4697">lookup</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="101.6719" x="526.147" y="249.4697">worker_service</text><rect fill="#F1F1F1" height="75.875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="217.4785" x="446.2417" y="282.2998"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="113.25" x="456.2417" y="303.4385">forward `/api/rpc/{</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51.7559" x="569.4917" y="303.4385">method</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="13.6348" x="621.2476" y="303.4385">}`</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="189.8496" x="463.8706" y="317.4072">- Add req UUID to Ctx CallChain</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="176.0391" x="463.8706" y="331.376">- serialize Ctx -&gt; req.headers</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55.377" x="460.0562" y="345.3447">req.POST</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="146.4277" x="481.7671" y="486.1123"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="126.4277" x="491.7671" y="507.251">collect response Json</text><line style="stroke:#000000;stroke-width:1.5;" x1="440.2417" x2="440.2417" y1="12.7451" y2="562.0811"/><rect fill="#90EE90" height="549.3359" style="stroke:#90EE90;stroke-width:1.0;" width="191.8652" x="667.7202" y="12.7451"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="176.4453" x="676.4302" y="378.1748"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="152.6309" x="690.2446" y="399.3135">get auth from req header</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="181.8652" x="673.7202" y="432.1436"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="100.2949" x="687.5347" y="453.2822">handle `/api/rpc/</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51.7559" x="787.8296" y="453.2822">method</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="6" x="839.5854" y="453.2822">`</text><line style="stroke:#000000;stroke-width:1.5;" x1="667.7202" x2="667.7202" y1="12.7451" y2="562.0811"/><line style="stroke:#000000;stroke-width:1.5;" x1="859.5854" x2="859.5854" y1="12.7451" y2="562.0811"/><line style="stroke:#181818;stroke-width:1.0;" x1="313.1733" x2="313.1733" y1="58.6982" y2="94.5459"/><polygon fill="#181818" points="309.1733,84.5459,313.1733,94.5459,317.1733,84.5459,313.1733,88.5459" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="554.981" x2="554.981" y1="208.3311" y2="228.3311"/><polygon fill="#181818" points="550.981,218.3311,554.981,228.3311,558.981,218.3311,554.981,222.3311" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="554.981" x2="554.981" y1="262.2998" y2="282.2998"/><polygon fill="#181818" points="550.981,272.2998,554.981,282.2998,558.981,272.2998,554.981,276.2998" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="764.6528" x2="764.6528" y1="412.1436" y2="432.1436"/><polygon fill="#181818" points="760.6528,422.1436,764.6528,432.1436,768.6528,422.1436,764.6528,426.1436" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="313.1733" x2="313.1733" y1="128.5146" y2="158.9385"/><line style="stroke:#181818;stroke-width:1.0;" x1="313.1733" x2="554.981" y1="158.9385" y2="158.9385"/><line style="stroke:#181818;stroke-width:1.0;" x1="554.981" x2="554.981" y1="158.9385" y2="174.3623"/><polygon fill="#181818" points="550.981,164.3623,554.981,174.3623,558.981,164.3623,554.981,168.3623" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="554.981" x2="554.981" y1="358.1748" y2="363.1748"/><line style="stroke:#181818;stroke-width:1.0;" x1="554.981" x2="764.6528" y1="363.1748" y2="363.1748"/><line style="stroke:#181818;stroke-width:1.0;" x1="764.6528" x2="764.6528" y1="363.1748" y2="378.1748"/><polygon fill="#181818" points="760.6528,368.1748,764.6528,378.1748,768.6528,368.1748,764.6528,372.1748" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="764.6528" x2="764.6528" y1="466.1123" y2="471.1123"/><line style="stroke:#181818;stroke-width:1.0;" x1="764.6528" x2="554.981" y1="471.1123" y2="471.1123"/><line style="stroke:#181818;stroke-width:1.0;" x1="554.981" x2="554.981" y1="471.1123" y2="486.1123"/><polygon fill="#181818" points="550.981,476.1123,554.981,486.1123,558.981,476.1123,554.981,480.1123" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="554.981" x2="554.981" y1="520.0811" y2="525.0811"/><line style="stroke:#181818;stroke-width:1.0;" x1="554.981" x2="313.1733" y1="525.0811" y2="525.0811"/><line style="stroke:#181818;stroke-width:1.0;" x1="313.1733" x2="313.1733" y1="525.0811" y2="540.0811"/><polygon fill="#181818" points="309.1733,530.0811,313.1733,540.0811,317.1733,530.0811,313.1733,534.0811" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="49.4385" x="202.9016" y="29.4531">client</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="76.9922" x="515.4849" y="29.4531">gateway</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="62.0332" x="732.6362" y="29.4531">worker</text><!--SRC=[PP7DJiCm48JlVegHk5agkJSI4fGB20aaw9bQyIQnwdg3lQ4KmhlZf3yKSTlLpew_MG-LTnHaKCD5mzuEZH7QcjtOUzUqqaIYC6mvhYaEIWr7UH8JHSrHcCuLiQkABwttgjT4yTrLf7MXzOQaPQlrTwa22y5JBGfQ7pJ5SQvGzz97Gkgy4nZ1mus22qd8M72Dpkmyvr9XOs9gZVT57yOoLnYLE90h2XRZMnds56Q-j-M0YQfKSy-yxZlyXywpckFMH8lLURXJafK2PhYs5f7Ui5pUtK8O2_d08hCiMkF2fCYEpdZtITDiTZNABziSXs9IK_Fq-FnIPipZTUTeA6VlfKKTUJFvxnSo55eJhASpg5-cLVadRCNUKoLvFtKS4k4-SIZ_V1vtFm00]--></g></svg>